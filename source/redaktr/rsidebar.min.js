!function(i){"use strict";var e=null,a=null,d={init:function(d){function t(a,d){i("body>.ui.sidebar").sidebar("is hidden")&&(clearTimeout(e),d&&(e=setTimeout(function(){i("body>.ui.main.menu").stop(!0,!0).fadeTo("fast",0)},d)),i("body>.ui.main.menu").stop(!0,!0).fadeTo("fast",a))}function n(e){var a="";return e?(i(e.target).hasClass("item")||i(e.target).hasClass("home")||(a=i(e.target).parentsUntil(".ui.slider.checkbox").parent().data("href")),i("body>.ui.sidebar").sidebar("hide")):a=i(this).parent().data("href"),history.pushState(null,null,(window.location.origin+d.pathname+a.replace(/^\/$/,"")).replace(/\s/g,"_")+window.location.search),i.rhashchange({index:d.index,pathname:d.pathname,xAmzMetaIdentity:d.xAmzMetaIdentity}),!1}a=i.Deferred(),i("body>.ui.sidebar").sidebar("setting",{exclusive:!0,scrollLock:!0,returnScroll:!0,onVisible:function(){i(window).off("scroll")},onHidden:function(){i(window).scroll(function(){t(1,1800)})}}),d.index[0].visible&&(i("body>.ui.sidebar").append(i("<a>",{class:"item","data-href":"",html:'<i class="home icon"></i>'+d.index[0].value})),i("body>.ui.sidebar.menu a.item").on("click",n)),function e(a,d,t){if(a.data&&a.data.length){var n=!0;if(i.each(a.data,function(i,e){return e.visible&&(n=!1),n}),!n){var o=i("<div>",{class:"item","data-id":t}),r=i("<a>",{class:"title",html:'<i class="dropdown icon"></i><i class="folder open outline icon"></i>'+a.value}),s=i("<div>",{class:"content"}),c=i("<div>",{class:"grouped fields"}),u=i("<div>",{class:"ui form"}),l=null,b=null,h=null,m=null;i("body>.ui.sidebar").append(o),o.append(r),o.append(s),s.append(u),u.append(c),i.each(a.data,function(o,r){r.visible&&(h=d+r.value+"/",m=t+" "+r.id.toString().replace(/\s/g,"_"),l=i("<div>",{class:"field"}),n=!0,r.data&&i.each(r.data,function(i,e){return e.visible&&(n=!1),n}),b=i("<div>",{class:"ui slider checkbox",html:'<input type="radio" name="'+a.value+'"><label><span><i class="'+(n?"file alternate outline":"folder outline")+' icon"></i>'+r.value+"</span></label>","data-href":h,"data-id":m}),l.append(b),c.append(l),e(r,h,m))})}}}(d.index[0],"",d.index[0].id.toString().replace(/\s/g,"_")),i(".ui.checkbox").checkbox({onChecked:n}),i(".ui.checkbox span").on("click",n),i("body>.ui.sidebar.accordion").accordion(),i("body>.ui.main.menu").mouseenter(function(){t(1)}),i("body>.ui.main.menu").mouseleave(function(){t(0)}),i(window).scroll(function(){t(1,1800)}),i("body>.ui.main.menu .launch").on("click",function(){t(0),i("body>.ui.sidebar").sidebar("show")}),t(1,1800),a.resolve()},update:function(e){i.when(a).then(function(){if(i("body>.ui.sidebar .ui.checkbox").checkbox("set unchecked"),e)i('body>.ui.sidebar .ui.checkbox[data-href="'+e+'/"]').each(function(){i("body>.ui.main.menu>.header.item").html(i(this).text());var e=i(this).data("id").toString().split(" "),a=i('body>.ui.sidebar .item[data-id$="'+e[e.length-1]+'"]').index("body>.ui.sidebar .item[data-id]");a<0&&(a=i('body>.ui.sidebar .item[data-id$="'+e[e.length-2]+'"]').index("body>.ui.sidebar .item[data-id]")),i("body>.ui.sidebar .item[data-id]").attr("hidden",!0),i.each(e,function(e,a){i('body>.ui.sidebar .ui.checkbox[data-id$="'+a+'"]').checkbox("set checked"),i('body>.ui.sidebar .item[data-id$="'+a+'"]').attr("hidden",!1)}),i("body>.ui.sidebar.accordion").accordion("open",a)});else{var a=i("body>.ui.sidebar>div.item:first>.title");a=a.length?a:i("body>.ui.sidebar>a.item"),i("body>.ui.main.menu>.header.item").html(a.text()),i("body>.ui.sidebar.accordion").accordion("open",0),i("body>.ui.sidebar .item[data-id]").attr("hidden",!0),i("body>.ui.sidebar .item[data-id]:first").attr("hidden",!1)}})}};i.extend(i,{rsidebar:function(e){return d[e]?d[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void i.error("Метод с именем "+e+" не существует для jQuery.rsidebar"):d.init.apply(this,arguments)}})}($);